# AI分析ロジック改善戦略 (Prompt Design Strategy)

現状の課題（ハルシネーションは抑制できているが、分析内容が浅い）を解決し、より深く質の高いコーチングを実現するためのプロンプト設計指針。

## 1. 入力データの「文脈化」 (Contextualization)

点としてのイベントデータだけでなく、データ側で「ストーリーの文脈」を付与してAIに渡す。

- **現状**: 単純な時系列リスト（例: `[10:00] User Death`, `[10:30] Dragon Lost`）
- **改善策**:
  - **因果関係の示唆**: 重要なオブジェクト（ドラゴン・バロン）出現前後のイベントをグルーピングし、「ドラゴン前のデス」といったタグ付けを行う。
  - **前提条件の明示**: 判断に必要なリソース状況（Health/Mana）、Ult/サモナースペルの有無などを可能な限りテキスト化して渡す。

## 2. 思考の連鎖 (Chain of Thought Prompting)

いきなり結論（アドバイス）を出力させず、人間のコーチと同じ**思考プロセス**を強制する。

- **手法**: プロンプト内で以下の分析ステップを定義する。
  1.  **観察 (Observation)**: 何が起きたか？（事実の抽出）
  2.  **解釈 (Interpretation)**: その時プレイヤーは何をしようとしていたか？（意図の推察）
  3.  **評価 (Evaluation)**: その判断はリスクに見合っていたか？ 他に選択肢はあったか？
  4.  **助言 (Advice)**: 結果論ではなく、判断プロセスへの指摘。

## 3. 良質な事例の提示 (Few-Shot Prompting)

AIに「何が良い分析なのか」の基準値を具体例で示す。

- **悪い例**: 「死なないようにしましょう。ワーディングが大切です。」（一般的すぎる）
- **良い例**: 「このデスにより、相手にバロンの主導権を渡しました。あなたの役割（スプリットプッシャー）としては、敵が姿を見せるまでサイドレーンを押しすぎない忍耐が必要でした。」（具体的かつ戦略的）

## 4. 評価軸の高度化とロール定義の深化

LoL特有の高度な概念をプロンプトに定義し、専門的な視点での評価を促す。

- **概念の注入**:
  - **Tempo (テンポ)**: 帰還や移動のタイミングによる有利不利。
  - **Priority (プライオリティ)**: レーンの主導権と寄りの速さ。
  - **Trade (トレード)**: ヘルス、マナ、クールダウン、オブジェクトの交換効率。
  - **Win Condition (勝ち筋)**: 構成や時間帯による勝利条件。
- **ペルソナ強化**: 「Challengerランクのコーチとして、感情論ではなく論理的に厳しく指摘せよ」といった指示の強化。

---

**次のアクション**:
まずは「1. 文脈化」によるデータ前処理の改善と、「2. 思考の連鎖」をプロンプトに組み込むことから着手する。
